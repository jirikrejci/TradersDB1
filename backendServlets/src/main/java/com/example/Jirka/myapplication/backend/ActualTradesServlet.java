/*
   For step-by-step instructions on connecting your Android application to this backend module,
   see "App Engine Java Servlet Module" template documentation at
   https://github.com/GoogleCloudPlatform/gradle-appengine-templates/tree/master/HelloWorld
*/

package com.example.Jirka.myapplication.backend;

import java.io.IOException;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class ActualTradesServlet extends HttpServlet {
    @Override
    public void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws IOException {

        String json = "{\"date created\":\"2016-10-12T22:00:00.000Z\",\"protocol version\":\"1.0\",\"trades\":[{\"ID\":3045,\"Symbol\":\"XXXXXX\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":0.9919,\"Order status\":\"pending\",\"Order #\":24325846,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":0.9897,\"SL Pips\":-21.9999999999998,\"Comment\":\"\",\"Manual target\":0.9943,\"Proposed Target\":0.9941,\"Planned RRR\":1.09090909090908,\"SL EUR\":37.3615,\"Level Distance\":76.1000000000001},{\"ID\":3011,\"Symbol\":\"AUDCHF\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":0.7371,\"Order status\":\"pending\",\"Order #\":24325844,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":0.7343,\"SL Pips\":-28.0000000000002,\"Comment\":\"\",\"Manual target\":0.7408,\"Proposed Target\":0.7399,\"Planned RRR\":1.32142857142857,\"SL EUR\":38.472,\"Level Distance\":\"96.6\"},{\"ID\":3010,\"Symbol\":\"AUDJPY\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":76.82,\"Order status\":\"pending\",\"Order #\":24337889,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":76.5,\"SL Pips\":-31.9999999999993,\"Comment\":\"\",\"Manual target\":77.14,\"Proposed Target\":77.14,\"Planned RRR\":1.00000000000004,\"SL EUR\":36.0248,\"Level Distance\":158.000000000001},{\"ID\":3061,\"Symbol\":\"AUDNZD\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":1.0601,\"Order status\":\"pending\",\"Order #\":24332180,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":1.0574,\"SL Pips\":-27.0000000000015,\"Comment\":\"\",\"Manual target\":1.063,\"Proposed Target\":1.0628,\"Planned RRR\":1.07407407407398,\"SL EUR\":36.3923,\"Level Distance\":71.4999999999999},{\"ID\":3006,\"Symbol\":\"EURCHF\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":1.0838,\"Order status\":\"pending\",\"Order #\":24325842,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":1.0811,\"SL Pips\":-27.0000000000015,\"Comment\":\"\",\"Manual target\":1.0862,\"Proposed Target\":1.0865,\"Planned RRR\":0.888888888888825,\"SL EUR\":37.098,\"Level Distance\":59.3999999999983},{\"ID\":3064,\"Symbol\":\"EURJPY\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":113.01,\"Order status\":\"pending\",\"Order #\":24337891,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":112.61,\"SL Pips\":-40.0000000000006,\"Comment\":\"\",\"Manual target\":null,\"Proposed Target\":113.41,\"Planned RRR\":1,\"SL EUR\":34.6392,\"Level Distance\":\"140.1\"},{\"ID\":3065,\"Symbol\":\"EURNZD\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":1.5482,\"Order status\":\"pending\",\"Order #\":24332183,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":1.5438,\"SL Pips\":-43.9999999999996,\"Comment\":\"\",\"Manual target\":null,\"Proposed Target\":1.5526,\"Planned RRR\":1,\"SL EUR\":36.7132,\"Level Distance\":93.0000000000009},{\"ID\":3044,\"Symbol\":\"EURUSD\",\"Direction\":\"sell\",\"Status\":\"actual\",\"Level Price\":1.1148,\"Order status\":\"pending\",\"Order #\":24332177,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":1.1165,\"SL Pips\":17.0000000000003,\"Comment\":\"\",\"Manual target\":1.1127,\"Proposed Target\":1.1131,\"Planned RRR\":1.23529411764703,\"SL EUR\":39.3353,\"Level Distance\":\"-111.300000000001\"},{\"ID\":3047,\"Symbol\":\"NZDCAD\",\"Direction\":\"sell\",\"Status\":\"actual\",\"Level Price\":0.9447,\"Order status\":\"pending\",\"Order #\":24325848,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":0.9493,\"SL Pips\":46.0000000000005,\"Comment\":\"\",\"Manual target\":0.9403,\"Proposed Target\":0.9401,\"Planned RRR\":0.956521739130416,\"SL EUR\":37.4974,\"Level Distance\":\"-80.7000000000002\"},{\"ID\":3062,\"Symbol\":\"NZDCHF\",\"Direction\":\"sell\",\"Status\":\"actual\",\"Level Price\":0.7058,\"Order status\":\"pending\",\"Order #\":24332181,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":0.7087,\"SL Pips\":29.0000000000001,\"Comment\":\"\",\"Manual target\":null,\"Proposed Target\":0.7029,\"Planned RRR\":1,\"SL EUR\":37.1896,\"Level Distance\":\"-60\"},{\"ID\":3043,\"Symbol\":\"NZDUSD\",\"Direction\":\"sell\",\"Status\":\"actual\",\"Level Price\":0.7125,\"Order status\":\"pending\",\"Order #\":24325845,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":0.7149,\"SL Pips\":23.9999999999996,\"Comment\":\"\",\"Manual target\":0.7102,\"Proposed Target\":0.7101,\"Planned RRR\":0.958333333333337,\"SL EUR\":40.5813,\"Level Distance\":\"-37.9000000000007\"},{\"ID\":3060,\"Symbol\":\"USDCHF\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":0.984,\"Order status\":\"pending\",\"Order #\":24332179,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":0.9813,\"SL Pips\":-27.0000000000004,\"Comment\":\"\",\"Manual target\":null,\"Proposed Target\":0.9867,\"Planned RRR\":1,\"SL EUR\":39.5712,\"Level Distance\":33.6000000000003},{\"ID\":3059,\"Symbol\":\"USDJPY\",\"Direction\":\"sell\",\"Status\":\"actual\",\"Level Price\":105.33,\"Order status\":\"\",\"Order #\":null,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":105.54,\"SL Pips\":21.0000000000008,\"Comment\":\"\",\"Manual target\":null,\"Proposed Target\":105.12,\"Planned RRR\":1,\"SL EUR\":40.0083,\"Level Distance\":\"-166.499999999999\"},{\"ID\":3029,\"Symbol\":\"USDJPY\",\"Direction\":\"buy\",\"Status\":\"actual\",\"Level Price\":102.38,\"Order status\":\"pending\",\"Order #\":24337874,\"Method\":\"swing\",\"Req Result\":\"TS_PENDING\",\"Estimated Trade Status\":\"TS_PENDING\",\"Stop Loss\":102.04,\"SL Pips\":-33.9999999999989,\"Comment\":\"\",\"Manual target\":null,\"Proposed Target\":102.72,\"Planned RRR\":1,\"SL EUR\":41.2206,\"Level Distance\":128.500000000001}]}";

        resp.setContentType("text/plain");      // nastavení typu obsahu - zde čistý text
        resp.getWriter().println(json);   //getWriter z responderu a zápis věty
    }

    @Override
    public void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws IOException {
        String name = req.getParameter("name");    // extrakce parametru "name" z requestu
        resp.setContentType("text/plain");          // opět nastavení typu obdahu
        if(name == null) {
            resp.getWriter().println("Please enter a name"); // pokud je jméno prázdné poskytne návod
        }
        resp.getWriter().println(name + ", hello from Traders DB, whish you a Great day!");          // pokud ne, pozdraví
    }
}
